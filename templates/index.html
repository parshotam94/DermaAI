{% extends "base.html" %} {% block content %}
<div class="outside">
  <div class="inside">
    <h2>Upload or click a photo</h2>
    <form
      id="uploadForm"
      action="{{ url_for('predict') }}"
      method="POST"
      enctype="multipart/form-data"
    >
      <input
        id="fileInput"
        type="file"
        name="image"
        accept="image/*"
        capture="environment"
        required
      />
      <img id="preview" class="preview" alt="" />
      <button type="submit">Analyze</button>
    </form>
    <p class="hint">Tip: use good lighting & focus on the lesion area.</p>
  </div>
</div>

<script>
  const input = document.getElementById("fileInput");
  const preview = document.getElementById("preview");
  input.addEventListener("change", (e) => {
    const f = e.target.files[0];
    if (!f) return;
    preview.src = URL.createObjectURL(f);
    preview.style.display = "block";
  });
</script>
{% endblock %}
